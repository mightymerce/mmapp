<section ng-controller="ProductsController" ng-init="findOne()">
  <div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-4">
      <h2>View Posts</h2>
      <ol class="breadcrumb">
        <li>
          <a href="dashboard">Home</a>
        </li>
        <li class="active">
          <strong>View your Posts for selected product</strong>
        </li>
      </ol>
    </div>
    <div class="col-lg-8">
      <h2>I</h2>
      <div align="right">
        <button class="btn btn-primary" type="button" ui-sref="products.edit({productId: product._id})">
          <i class="fa fa-edit"> </i> product details
        </button>
        <button type="button" class="btn btn-primary" ui-sref="products.editmedia({productId: product._id})">
          <i class="fa fa-edit"> </i> product media
        </button>
        <button type="button" class="btn btn-primary" ui-sref="products.editchannel({productId: product._id})">
          <i class="fa fa-edit"> </i> product channels
        </button>
        <button type="button" class="btn btn-default" ui-sref="products.view">
          <i class="fa fa-edit"> </i> product posts
        </button>
      </div>
    </div>
  </div>

  <div class="wrapper wrapper-content animated fadeInRight ecommerce">
    <form name="productForm" class="form-horizontal" ng-submit="update(productForm.$valid)" novalidate>

      <div class="row">
        <div class="col-lg-12">
          <div ng-show="error" class="alert alert-danger">
            <p ng-bind="error"></p>
          </div>
          <div ng-show="success" class="alert alert-success">
            <p ng-bind="success"></p>
          </div>
          <div class="ibox float-e-margins">
            <div class="ibox-content">
              <table class="table table-hover">
                <thead>
                <tr>
                  <th data-toggle="true">Image</th>
                  <th data-toggle="true">Product number</th>
                  <th data-hide="phone">Product title</th>
                  <th class="text-right" data-sort-ignore="true"></th>
                </tr>
                </thead>
                <tbody>
                <tr>
                  <td><img ng-src="{{product.productMainImageURL}}" class="product-images-list"></td>
                  <td><span data-ng-bind="product.productId"></span></td>
                  <td><span ng-bind="product.productTitle"></span></td>
                  <td class="text-right">
                    <div class="btn-group">
                      <a class="btn-white btn-xs" ui-sref="products.edit({productId: product._id})">
                        <i class="fa fa-cogs"></i> Edit product
                      </a>
                    </div>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-12">
          <div class="ibox float-e-margins">
            <div class="ibox-content">
              <div>
                <a class="btn btn-w-m btn-warning" ng-click="modalupdateProductPost('sm', product, 'Facebook', 'New', '00.00.0000')"><i class="fa fa-facebook"></i> Create Post</a>
                <a class="btn btn-w-m btn-warning" ng-click="modalupdateProductPost('sm', product, 'Pinterest', 'New', '00.00.0000')"><i class="fa fa-pinterest"></i> Create Post</a>
                <a class="btn btn-w-m btn-default"><i class="fa fa-twitter"></i> Create Post</a>
                <a class="btn btn-w-m btn-default"><i class="fa fa-instagram"></i> Create Post</a>
                <a class="btn btn-w-m btn-default"><i class="fa fa-google-plus"></i> Create Post</a>
                <a class="btn btn-w-m btn-default"><i class="fa fa-angle-double-right"></i> Create Post</a>
                <a class="btn btn-w-m btn-default"><i class="fa fa-angle-double-right"></i> Create Post</a>
                <a class="btn btn-w-m btn-default"><i class="fa fa-angle-double-right"></i> Create Post</a>
                <a class="btn btn-w-m btn-default"><i class="fa fa-amazon"></i> Create Post</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
          <div class="ibox float-e-margins">
            <div class="ibox-content">
              <table class="table table-hover">
                <thead>
                <tr>
                  <th data-hide="phone">Post Date</th>
                  <th data-hide="phone">Post Channel</th>
                  <th data-hide="phone">Post Status</th>
                  <th data-hide="phone">Action</th>
                </tr>
                </thead>
                <tbody data-ng-repeat="post in posts | filter: {product: productSelectId }">
                <tr>
                  <td><span ng-bind="post.postPublicationDate"></span></td>
                  <td><span ng-bind="post.postChannel"></span></td>
                  <td><span ng-bind="post.postStatus"></span></td>
                  <td>
                    <div ng-show="error">
                      <div class="alert alert-success">
                        <span ng-bind="error"></span>
                      </div>
                    </div>
                    <div ng-show="post.postStatus === 'Active'">
                      <a class="btn btn-primary btn-outline btn-xs" ng-click="modalupdateProductPost('sm', product, post.postChannel, post.postStatus, post.postPublicationDate)"><i class="fa fa-check"></i> View Post</a>
                    </div>
                    <div ng-show="post.postStatus === 'Wait'">
                      <a class="btn btn-warning btn-outline btn-xs" ng-click="modalupdateProductPost('sm', product, post.postChannel, post.postStatus, post.postPublicationDate)"><i class="fa fa-warning"></i> Review Post</a>
                    </div>
                    <div ng-show="post.postStatus === 'Error'">
                      <a class="btn btn-danger btn-outline btn-xs" ng-click="modalupdateProductPost('sm', product, post.postChannel, post.postStatus, post.postPublicationDate)"><i class="fa fa-pencil"></i> Review Post</a>
                    </div>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</section>
