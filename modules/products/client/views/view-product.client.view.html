<section ng-controller="ProductsController" ng-init="findOne()">
  <div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-4">
      <h2>Edit product</h2>
      <ol class="breadcrumb">
        <li>
          <a href="dashboard">Home</a>
        </li>
        <li>
          <a href="products">Products</a>
        </li>
        <li>
          <a href="">Edit product</a>
        </li>
        <li class="active">
          <strong>Posts</strong>
        </li>
      </ol>
    </div>
  </div>


  <div class="row">
    <div class="wrapper wrapper-content">
      <div class="col-lg-12">
        <div class="tabs-container">
          <ul class="nav nav-tabs">
            <li class=""><a data-toggle="tab" ui-sref="products.edit({productId: product._id})"> Main data</a></li>
            <li class=""><a data-toggle="tab" ui-sref="products.editmedia({productId: product._id})">Images</a></li>
            <li class="" ng-hide="true"><a data-toggle="tab" ui-sref="products.editchannel({productId: product._id})">Sales channel data</a></li>
            <li class="active"><a data-toggle="tab">Posts &nbsp;&nbsp;&nbsp;<span class="label label-warning">NEW</span></a></li>
          </ul>
          <div class="tab-content">
            <div id="tab-1" class="tab-pane active">
              <div class="panel-body">
                <form name="productForm" class="form-horizontal" ng-submit="update(productForm.$valid)" novalidate>

                  <div class="row">
                    <div class="col-lg-12">
                      <div ng-show="error" class="alert alert-danger">
                        <p ng-bind="error"></p>
                      </div>
                      <div ng-show="success" class="alert alert-success">
                        <p ng-bind="success"></p>
                      </div>
                      <div class="ibox float-e-margins">
                        <div class="ibox-content">
                          <table class="table table-hover">
                            <thead>
                            <tr>
                              <th data-toggle="true">Image</th>
                              <th data-toggle="true">Product number</th>
                              <th data-hide="phone">Product title</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                              <td><img ng-src="{{product.productMainImageURL}}" class="product-images-list"></td>
                              <td><span data-ng-bind="product.productId"></span></td>
                              <td><span ng-bind="product.productTitle"></span></td>
                            </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-lg-12">
                      <div class="ibox float-e-margins">
                        <div class="ibox-content">
                          <div ng-hide="basicData">
                            <div class="alert alert-danger">
                              <p>Please finalize the tutorial before you post your first product!</p>
                            </div>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-facebook"></i> Create Post</a>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-pinterest"></i> Create Pin</a>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-twitter"></i> Create Tweet</a>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-instagram"></i> Create Comment</a>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-google-plus"></i> Create Post</a>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-angle-double-right"></i> Etsy Create Post</a>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-angle-double-right"></i> Dawanda Create Post</a>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-angle-double-right"></i> Create Post</a>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-amazon"></i> Create Post</a>
                          </div>
                          <div ng-show="basicData">
                            <a class="btn btn-w-m btn-warning" ng-click="modalupdateProductPost('md', product, 'Facebook', 'New', '00.00.0000')"><i class="fa fa-facebook"></i> Create Post</a>
                            <a class="btn btn-w-m btn-warning" ng-click="modalupdateProductPost('md', product, 'Pinterest', 'New', '00.00.0000')"><i class="fa fa-pinterest"></i> Create Pin</a>
                            <a class="btn btn-w-m btn-warning" ng-click="modalupdateProductPost('md', product, 'Twitter', 'New', '00.00.0000')"><i class="fa fa-twitter"></i> Create Tweet</a>
                            <a class="btn btn-w-m btn-default" ng-click="modalupdateProductPost('md', product, 'Instagram', 'New', '00.00.0000')"><i class="fa fa-instagram"></i> Create Comment</a>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-google-plus"></i> Create Post</a>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-angle-double-right"></i>Etsy Create Post</a>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-angle-double-right"></i>Dawanda Create Post</a>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-angle-double-right"></i> Create Post</a>
                            <a class="btn btn-w-m btn-default"><i class="fa fa-amazon"></i> Create Post</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-lg-12">
                      <div class="ibox float-e-margins">
                        <div class="ibox-content">
                          <table class="table table-hover">
                            <thead>
                            <tr>
                              <th data-hide="phone">Post Date</th>
                              <th data-hide="phone">Post Channel</th>
                              <th data-hide="phone">Post Status</th>
                              <th data-hide="phone">Action</th>
                            </tr>
                            </thead>
                            <tbody data-ng-repeat="post in posts | filter: {product: productSelectId }">
                            <tr>
                              <td><span ng-bind="post.postPublicationDate | date:'mediumDate'"></span></td>
                              <td><span ng-bind="post.postChannel"></span></td>
                              <td><span ng-bind="post.postStatus"></span></td>
                              <td>
                                <div ng-show="post.postStatus === 'Active'">
                                  <a class="btn btn-primary btn-outline btn-sm" ng-click="modalupdateProductPost('md', product, post.postChannel, post.postStatus, post.postPublicationDate)"><i class="fa fa-check"></i> View Post</a>
                                </div>
                                <div ng-show="post.postStatus === 'Wait'">
                                  <a class="btn btn-warning btn-outline btn-sm" ng-click="modalupdateProductPost('md', product, post.postChannel, post.postStatus, post.postPublicationDate)"><i class="fa fa-warning"></i> Review Post</a>
                                </div>
                                <div ng-show="post.postStatus === 'Error'">
                                  <a class="btn btn-danger btn-outline btn-sm" ng-click="modalupdateProductPost('md', product, post.postChannel, post.postStatus, post.postPublicationDate)"><i class="fa fa-pencil"></i> Review Post</a>
                                </div>
                              </td>
                            </tr>
                            </tbody>
                          </table>
                          <div class="alert alert-warning text-center" ng-if="posts.$resolved && !posts.length">
                            You have not posted this product so far. To post this product just click on "Create Post" for the corresponding channel!
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
